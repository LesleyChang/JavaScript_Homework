<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>評價</title>
    <link rel="stylesheet" href="css/main.css" />
    <link rel="icon" href="Images/canned-food.png" />
    <style>
        .gray {
            -webkit-filter: grayscale(1);
        }

        .color {
            -webkit-filter: grayscale(0);
        }

        .mainSection {
            text-align: center;
        }


            .mainSection div {
                display: inline-block;
                margin: 20px auto;
                overflow: auto;
                padding: 0px 10px;
            }

        .content {
            padding-bottom: 6em;
        }
        .btn {
            padding:10px 20px;
            margin-top:10px;
            border:0px;
            font-weight:700;            
        }
        .visible {            
            visibility: visible;
        }
        .hidden {            
            visibility: hidden;
        }
    </style>
    <script>
        function TurnColor() {
            for (var i = this.value; i > 0; i--) {
                var str = new String("img" + i);
                document.getElementById(str).className = "color";
            }

        }
        function TurnGray() {
            for (var i = this.value; i > 0; i--) {
                var str = new String("img" + i);
                document.getElementById(str).className = "gray";
            }
        }
        function ShowResult() {
            document.getElementById("scoreboard").innerText = "獲得 " + this.value + " 個罐罐 (= ↀωↀ =)";
            document.getElementById("scoreboard").className = "visible";
            for (var i = 1; i < 6; i++) {
                var str = new String("img" + i);
                document.getElementById(str).removeEventListener("mouseenter", ShowQty, false);
                document.getElementById(str).removeEventListener("mouseleave", HideQty, false);
                document.getElementById(str).removeEventListener("mouseenter", TurnColor, false);
                document.getElementById(str).removeEventListener("mouseleave", TurnGray, false);
                document.getElementById(str).removeEventListener("click", ShowResult, false);
            }
            document.getElementById("resetBtn").className = "btn visible"; 
        }
        function ClickResetBtn() {            
            document.getElementById("resetBtn").className = "btn hidden";
            document.getElementById("scoreboard").className = "hidden";
            Init();
        }
        function ShowQty() {
            document.getElementById("scoreboard").innerText = this.value + " 個罐罐";
            document.getElementById("scoreboard").className = "visible";
        }
        function HideQty() { document.getElementById("scoreboard").className = "hidden"; }
                
        function Init() {
            for (var i = 1; i < 6; i++) {
                var str = new String("img" + i);
                document.getElementById(str).value = i;
                document.getElementById(str).addEventListener("mouseenter", ShowQty, false);
                document.getElementById(str).addEventListener("mouseleave", HideQty, false);
                document.getElementById(str).addEventListener("mouseenter", TurnColor, false);
                document.getElementById(str).addEventListener("mouseleave", TurnGray, false);
                document.getElementById(str).addEventListener("click", ShowResult, false);
            }
            document.getElementById("resetBtn").addEventListener("click", ClickResetBtn);
            for (var i = 1; i < 6; i++) {
                var str = new String("img" + i);
                document.getElementById(str).className = "gray";
            }
        }
        document.addEventListener("DOMContentLoaded", Init, false);
    </script>
</head>
<body>
    <div id="#allpage">
        <header>
            <div class="header">
                <h1 class="title">JavaScriptHomework</h1><br>
                <nav>
                    <ul class="menu">
                        <li><a href="index.html">回首頁</a></li>
                        <li><a href="index_P1_multi-table.html">九九乘法表</a></li>
                        <li><a href="index_P2_form.html">表單欄位驗證</a></li>
                        <li><a href="index_P3_score.html">評價</a></li>
                        <li><a href="index_P4_ads.html">廣告輪播</a></li>
                        <li><a href="index_P5_calendar.html">選擇日曆</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <div class="content">
            <article>
                <section class="mainSection">
                    <!--<h2>評分系統</h2>-->
                    <img src="Images/grey-cat-with-bowl-istockphoto.jpg" width="400" style="margin-top:10px;" /><br>
                    <div>
                        <img id="img1" class="gray" src="Images/canned-food.png" width="100" />
                        <img id="img2" class="gray" src="Images/canned-food.png" width="100" />
                        <img id="img3" class="gray" src="Images/canned-food.png" width="100" />
                        <img id="img4" class="gray" src="Images/canned-food.png" width="100" />
                        <img id="img5" class="gray" src="Images/canned-food.png" width="100" />
                    </div>
                    <h2 id="scoreboard"></h2>
                    <input class="btn hidden" type="button" id="resetBtn" value="reset"  />
                </section>
            </article>
        </div>

        <footer>
            <p style="color:lightgray">
                <br><br><br>
            </p>
        </footer>

    </div>
</body>
</html>